<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Pedido - iFood Clone</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Barra de Navegação -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-logo">
                <a href="index.html">
                    <span class="logo-text">iFood</span>
                    <span class="logo-clone">Clone</span>
                </a>
            </div>
            
            <div class="navbar-links">
                <a href="login.html" class="nav-link"><i class="fas fa-user"></i> Entrar</a>
                <a href="checkout.html" class="nav-link cart-link">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Conteúdo do Checkout -->
    <main class="checkout-container">
  <!-- Indicador de passos (mantido) -->
  <div class="checkout-steps">
    <div class="step active" data-step="1">
      <span class="step-number">1</span>
      <span class="step-title">Endereço</span>
    </div>
    <div class="step" data-step="2">
      <span class="step-number">2</span>
      <span class="step-title">Pagamento</span>
    </div>
    <div class="step" data-step="3">
      <span class="step-number">3</span>
      <span class="step-title">Revisão</span>
    </div>
  </div>

  <!-- Carrossel -->
  <div class="checkout-carousel" style="position:relative;overflow:hidden">
    <div class="carousel-track" style="display:flex;transition:transform .35s ease;will-change:transform">
      <!-- Slide 1: Endereço -->
      <section class="checkout-form slide" data-step="1" style="min-width:100%">
        <h2>Endereço de Entrega</h2>
        <form id="address-form">
          <div class="form-group">
            <label for="cep">CEP</label>
            <input type="text" id="cep" name="cep" placeholder="Digite seu CEP" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="street">Rua</label>
              <input type="text" id="street" name="street" required>
            </div>
            <div class="form-group">
              <label for="number">Número</label>
              <input type="text" id="number" name="number" required>
            </div>
          </div>
          <div class="form-group">
            <label for="complement">Complemento (opcional)</label>
            <input type="text" id="complement" name="complement">
          </div>
          <div class="form-group">
            <label for="neighborhood">Bairro</label>
            <input type="text" id="neighborhood" name="neighborhood" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="city">Cidade</label>
              <input type="text" id="city" name="city" required>
            </div>
            <div class="form-group">
              <label for="state">Estado</label>
              <select id="state" name="state" required>
                <option value="">Selecione</option>
                <option value="SP">São Paulo</option>
                <option value="RJ">Rio de Janeiro</option>
              </select>
            </div>
          </div>
          <div class="form-actions">
            <button type="button" class="continue-button" data-next="2">Continuar</button>
          </div>
        </form>
      </section>

      <!-- Slide 2: Pagamento -->
      <section class="checkout-form slide" data-step="2" style="min-width:100%">
        <h2>Pagamento</h2>
        <form id="payment-form">
          <div class="form-group">
            <label for="card-name">Nome no Cartão</label>
            <input type="text" id="card-name" required>
          </div>
          <div class="form-group">
            <label for="card-number">Número do Cartão</label>
            <input type="text" id="card-number" maxlength="19" placeholder="0000 0000 0000 0000" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="card-expiry">Validade</label>
              <input type="text" id="card-expiry" placeholder="MM/AA" required>
            </div>
            <div class="form-group">
              <label for="card-cvv">CVV</label>
              <input type="password" id="card-cvv" maxlength="4" required>
            </div>
          </div>
          <div class="form-actions">
            <button type="button" class="back-button" data-prev="1">Voltar</button>
            <button type="button" class="continue-button" data-next="3">Continuar</button>
          </div>
        </form>
      </section>

      <!-- Slide 3: Revisão -->
      <section class="checkout-form slide" data-step="3" style="min-width:100%">
        <h2>Revisão do Pedido</h2>
        <div class="order-summary">
          <h3>Resumo do Pedido</h3>
          <div class="restaurant-info">
            <img src="images/restaurant1-logo.jpg"
            class="restaurant-logo"
            id="rev-restaurant-logo"
            alt=""
            onerror="this.onerror=null;this.src='images/placeholder.png'">

            <h4 id="rev-restaurant-name">Restaurante</h4>
            <p class="delivery-time" id="rev-delivery-time">--</p>
          </div>
          <div class="order-items"></div>
          <div class="order-totals"></div>
          <div class="coupon-section">
            <input type="text" id="coupon-input" placeholder="Cupom de desconto">
            <button type="button" id="apply-coupon">Aplicar</button>
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="back-button" data-prev="2">Voltar</button>
          <button type="button" id="confirm-order" class="continue-button">Confirmar Pedido</button>
        </div>
      </section>
    </div>

    <!-- Controles do carrossel -->
    <button class="carousel-prev" aria-label="Anterior" style="position:absolute;left:8px;top:50%;transform:translateY(-50%);">‹</button>
    <button class="carousel-next" aria-label="Próximo" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);">›</button>

    <div class="carousel-dots" style="display:flex;gap:8px;justify-content:center;margin-top:12px;">
      <button class="dot active" data-step="1" aria-label="Ir para Etapa 1">●</button>
      <button class="dot" data-step="2" aria-label="Ir para Etapa 2">●</button>
      <button class="dot" data-step="3" aria-label="Ir para Etapa 3">●</button>
    </div>
  </div>
</main>


    <!-- Rodapé (mantido) -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>Sobre Nós</h3>
                <ul>
                    <li><a href="#">Quem somos</a></li>
                    <li><a href="#">Trabalhe conosco</a></li>
                    <li><a href="#">Sustentabilidade</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Para Restaurantes</h3>
                <ul>
                    <li><a href="#">Cadastre seu restaurante</a></li>
                    <li><a href="#">iFood Partner</a></li>
                    <li><a href="#">Soluções para entregadores</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Social</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 iFood Clone. Todos os direitos reservados.</p>
        </div>
    </footer>

   
    <script>

        window.SUPABASE_URL = "https://epzgwoujykafwgrvhtbf.supabase.co'";   
        window.SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwemd3b3VqeWthZndncnZodGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxMjkzNzIsImV4cCI6MjA3MTcwNTM3Mn0.beGx4fJ70KarCaYTL7iHxbIqPwq6o4kW9uI_39ixEe4";                 // troque

    </script>

  
    <script>
        document.addEventListener('error', (e) => {
            const t = e.target;
            if (t.tagName === 'IMG') t.src = 'images/placeholder.png';
        }, true);
    </script>

    <script type="module" src="js/checkout.js"></script>
</body>
</html>